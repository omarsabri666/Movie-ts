import{G as m,a as h,U as p,r as d,j as s,L as u,A as f,M as g}from"./index-I6D3AQ1G.js";import{u as j,c as v}from"./api-BVovDquS.js";import{f as y,B as N}from"./index-o5OtTd7Z.js";function w(t){return m({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M363 277h-86v86h-42v-86h-86v-42h86v-86h42v86h86v42z"},child:[]},{tag:"path",attr:{d:"M256 90c44.3 0 86 17.3 117.4 48.6C404.7 170 422 211.7 422 256s-17.3 86-48.6 117.4C342 404.7 300.3 422 256 422c-44.3 0-86-17.3-117.4-48.6C107.3 342 90 300.3 90 256c0-44.3 17.3-86 48.6-117.4C170 107.3 211.7 90 256 90m0-42C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"},child:[]}]})(t)}function L(){const{id:t}=h(),{dispatch:r,watchedList:l}=p()??{dispatch:()=>{},watchedList:null},c=(l??[]).filter(i=>i.id===t).length>0,{data:e,isLoading:o,error:n}=j({queryFn:()=>v(t??0),queryKey:["movieDetails",t]});if(d.useEffect(()=>{localStorage.setItem("movieapp",JSON.stringify(l))},[l]),n)return s.jsx("div",{className:" flex justify-center items-center my-10",children:s.jsxs("h2",{className:" text-omar text-xl font-bold ",children:["Error : ",n.message]})});function a(){const i={id:t||"",title:e==null?void 0:e.title,poster:e==null?void 0:e.poster,runtime:e==null?void 0:e.runtime,year:e==null?void 0:e.year,rating:e==null?void 0:e.ratings[0].value,votes:e==null?void 0:e.ratings[0].votes,trailer:e==null?void 0:e.trailer,lang:e==null?void 0:e.spoken_language,description:e==null?void 0:e.description,country:e==null?void 0:e.country};r({type:"addMovie",payload:i})}function x(){r({type:"deleteMovie",payload:{id:t||""}})}return o?s.jsx("div",{className:" flex items-center justify-center",children:s.jsx(u,{})}):s.jsxs("div",{className:" font-abc  max-w-6xl text-white h-fit  px-20 mx-auto ",children:[s.jsxs("div",{className:" my-20  w-full  gap-4  md:w-2/3 h-auto grid grid-cols-1 md:grid-cols-3  ",children:[s.jsx("div",{className:" flex justify-center items-center  w-full",children:s.jsx("img",{className:" w-full",src:e==null?void 0:e.poster,alt:`${e==null?void 0:e.title}img`})}),s.jsxs("div",{className:" px-5 col-span-2 flex flex-col gap-2",children:[s.jsx("h1",{className:" capitalize text-2xl font-semibold",children:e==null?void 0:e.title}),s.jsxs("h3",{children:["Name: ",s.jsxs("span",{className:"  text-omar",children:[" ",e==null?void 0:e.title]})]}),s.jsxs("h3",{children:["Time:"," ",s.jsxs("span",{className:"  text-omar",children:[" ",y(e==null?void 0:e.runtime)]})]}),s.jsxs("h3",{children:["Date: ",s.jsxs("span",{className:"  text-omar",children:[" ",e==null?void 0:e.year]})]}),s.jsxs("h3",{children:["Language:"," ",s.jsxs("span",{className:" capitalize  text-omar",children:[" ",e==null?void 0:e.spoken_language]})]}),s.jsxs("h3",{children:["country :"," ",s.jsxs("span",{className:" capitalize  text-omar",children:[" ",e==null?void 0:e.country]})]}),s.jsxs("h3",{className:" flex items-center gap-1",children:[s.jsx(f,{color:"yellow"})," :"," ",s.jsxs("span",{className:" capitalize  font-semibold  text-omar",children:[" ",e==null?void 0:e.ratings[0].value," |"]}),s.jsxs("span",{className:" capitalize  font-semibold  text-omar",children:[" ",e==null?void 0:e.ratings[0].votes]})]}),s.jsxs("div",{className:"  flex items-center gap-4",children:[s.jsxs("a",{className:" inline-flex gap-1 items-center px-4 py-2 md:py-2 md:px-6 w-fit my-2 rounded-full text-white bg-omar",href:e==null?void 0:e.trailer,target:"_blank",rel:"noopener noreferrer",children:[" ",s.jsx("span",{className:" text-2xl",children:s.jsx(N,{})})," ","Watch"]}),c?s.jsxs("button",{onClick:x,className:" md:px-4 px-4 inline-flex items-center  gap-1  md:py-2   bg-transparent  font-semibold md:text-lg outline transition-all outline-red-600 hover:bg-omar shadow-2xl  hover:text-white text-omar  rounded-full",children:[s.jsx("span",{className:" text-2xl",children:s.jsx(g,{})}),"from watchlist"]}):s.jsxs("button",{onClick:a,className:" md:px-5 px-4 inline-flex items-center  gap-1  md:py-2   bg-transparent  font-semibold md:text-lg outline transition-all outline-red-600 hover:bg-omar shadow-2xl  hover:text-white text-omar  rounded-full",children:[s.jsx("span",{className:" text-2xl",children:s.jsx(w,{})})," ","to watchList"]})]})]})]}),s.jsxs("div",{className:" flex flex-col py-5 gap-4 ",children:[s.jsx("h3",{className:" text-xl font-semibold",children:"About the movie"}),s.jsx("p",{className:" text-sm text-gray-300",children:e==null?void 0:e.description})]})]})}export{L as default};
